import{s as l}from"./supabaseClient-D6rcQ6uG.js";document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".cta-button.ripple");t&&t.addEventListener("click",function(){window.location.href="index2-2.html"});const n=document.querySelector(".go-to-form-btn"),e=document.getElementById("deliveryForm");n&&e&&n.addEventListener("click",function(){e.scrollIntoView({behavior:"smooth"})}),document.querySelectorAll(".cta-button").forEach(function(o){o.addEventListener("click",function(){typeof gtag=="function"&&gtag("event","cta_click",{event_category:"CTA",event_label:o.innerText.trim(),version:"B"})})}),n&&n.addEventListener("click",function(){typeof gtag=="function"&&gtag("event","go_to_form_click",{event_category:"CTA",event_label:"go-to-form-btn",version:"B"})}),e&&e.addEventListener("submit",function(){typeof gtag=="function"&&gtag("event","delivery_submit",{event_category:"Form",event_label:"delivery-submit-btn",version:"B"})})});const m={threshold:.1,rootMargin:"0px 0px -50px 0px"},u=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&n.target.classList.add("fade-in")})},m);document.querySelectorAll("section").forEach(t=>{u.observe(t)});function f(){const t=new Date,e=new Date(t.getTime()+24*60*60*1e3).toLocaleDateString("ko-KR",{month:"long",day:"numeric"}),o=document.querySelector(".delivery-time");o&&(o.innerHTML=`⏰ ${e} 도착 예정`)}function d(){const t=document.querySelector(".delivery-countdown");if(!t)return;const n=new Date,e=new Date;e.setHours(18,0,0,0),n>e&&e.setDate(e.getDate()+1);const o=e-n,i=Math.floor(o/(1e3*60*60)),a=Math.floor(o%(1e3*60*60)/(1e3*60)),r=Math.floor(o%(1e3*60)/1e3);t.innerHTML=`⏰ 빠른 배송 마감까지 ${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}f();d();setInterval(d,1e3);const s=document.getElementById("deliveryForm");s&&s.addEventListener("submit",async function(t){t.preventDefault();const n=document.getElementById("name").value,e=document.getElementById("address").value,o=document.getElementById("phone").value,i="B",{data:a,error:r}=await l.from("delivery_info").insert([{name:n,address:e,phone:o,version:i}]);if(r){alert("저장 실패: "+r.message);return}const c=document.getElementById("modal");c&&(c.style.display="flex",setTimeout(()=>{c.style.display="none",window.location.href="index2.html"},2e3))});
