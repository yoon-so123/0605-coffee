import{s as l}from"./supabaseClient-D6rcQ6uG.js";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".cta-button.ripple");e&&e.addEventListener("click",function(){window.location.href="index2-2.html"});const o=document.querySelector(".go-to-form-btn"),t=document.getElementById("deliveryForm");o&&t&&o.addEventListener("click",function(){t.scrollIntoView({behavior:"smooth"})})});const m={threshold:.1,rootMargin:"0px 0px -50px 0px"},u=new IntersectionObserver(e=>{e.forEach(o=>{o.isIntersecting&&o.target.classList.add("fade-in")})},m);document.querySelectorAll("section").forEach(e=>{u.observe(e)});function f(){const e=new Date,t=new Date(e.getTime()+24*60*60*1e3).toLocaleDateString("ko-KR",{month:"long",day:"numeric"}),n=document.querySelector(".delivery-time");n&&(n.innerHTML=`⏰ ${t} 도착 예정`)}function a(){const e=document.querySelector(".delivery-countdown");if(!e)return;const o=new Date,t=new Date;t.setHours(18,0,0,0),o>t&&t.setDate(t.getDate()+1);const n=t-o,i=Math.floor(n/(1e3*60*60)),c=Math.floor(n%(1e3*60*60)/(1e3*60)),r=Math.floor(n%(1e3*60)/1e3);e.innerHTML=`⏰ 빠른 배송 마감까지 ${i.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}f();a();setInterval(a,1e3);const d=document.getElementById("deliveryForm");d&&d.addEventListener("submit",async function(e){e.preventDefault();const o=document.getElementById("name").value,t=document.getElementById("address").value,n=document.getElementById("phone").value,i="B",{data:c,error:r}=await l.from("delivery_info").insert([{name:o,address:t,phone:n,version:i}]);if(r){alert("저장 실패: "+r.message);return}const s=document.getElementById("modal");s&&(s.style.display="flex",setTimeout(()=>{s.style.display="none",window.location.href="index2.html"},2e3))});
